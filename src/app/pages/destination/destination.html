<!-- src/app/pages/destination/destination.html (Updated) -->
<div class="container my-5">
  
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold">Explore Our Destinations</h1>
    <p class="lead text-muted">Find your next adventure in the heart of India.</p>
  </div>

  <div class="filter-bar card shadow-sm p-3 mb-5 bg-light rounded">
    <!-- CHANGE: Updated column classes for a better tablet layout -->
    <div class="row g-3 align-items-center">
      
      <!-- Search Bar -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="input-group">
          <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
          <input 
            type="text" 
            class="form-control" 
            placeholder="Search by name or location..." 
            [(ngModel)]="searchTerm" 
            (input)="applyFilters()">
        </div>
      </div>

      <!-- Type Filter -->
      <div class="col-12 col-md-6 col-lg-2">
        <select class="form-select" [(ngModel)]="selectedType" (change)="applyFilters()">
          <option value="all">All Types</option>
          <option value="Beach">Beach</option>
          <option value="Mountain">Mountain</option>
          <option value="Historic">Historic</option>
          <option value="City">City</option>
          <option value="Spiritual">Spiritual</option>
        </select>
      </div>

      <!-- Popularity Filter -->
      <div class="col-12 col-md-6 col-lg-3">
        <select class="form-select" [(ngModel)]="selectedPopularity" (change)="applyFilters()">
          <option value="all">All Popularity Levels</option>
          <option value="High">High</option>
          <option value="Medium">Medium</option>
          <option value="Low">Low</option>
        </select>
      </div>

      <!-- Sort Filter -->
      <div class="col-12 col-md-6 col-lg-3">
        <select class="form-select" [(ngModel)]="selectedSort" (change)="applyFilters()">
          <option value="default">Sort By (Default)</option>
          <option value="priceAsc">Price: Low to High</option>
          <option value="priceDesc">Price: High to Low</option>
          <option value="popularity">Popularity</option>
        </select>
      </div>

    </div>
  </div>

  <!-- This card grid is already perfectly responsive -->
  <div class="row g-4">
    <div *ngFor="let dest of filteredDestinations" @cardAnimation class="col-lg-4 col-md-6 col-12">
      <div class="card destination-card h-100 shadow-sm border-0">
        
        <span class="popularity-badge badge" [ngClass]="{
              'bg-danger': dest.popularity === 'High',
              'bg-warning': dest.popularity === 'Medium',
              'bg-secondary': dest.popularity === 'Low'
            }">
          {{ dest.popularity }}
        </span>

        <img [src]="dest.image" class="card-img-top" [alt]="dest.name">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title fw-bold">{{ dest.name }}</h5>
          <h6 class="card-subtitle mb-2 text-muted"><i class="bi bi-geo-alt-fill"></i> {{ dest.location }}</h6>
          <p class="card-text flex-grow-1">{{ dest.description }}</p>
          
          <p class="fw-bold fs-5 text-primary mb-3">
            {{ dest.price | currency:'INR':'symbol':'1.0-0' }}
            <span class="fs-6 fw-normal text-muted">/ person</span>
          </p>

          <a [routerLink]="['/booking', dest.id]" class="btn btn-primary mt-auto align-self-start">Book Now</a>
        </div>
      </div>
    </div>
  </div>
  
  <div *ngIf="filteredDestinations.length === 0" class="text-center mt-5">
    <i class="bi bi-exclamation-triangle-fill display-3 text-warning"></i>
    <h3 class="mt-3">No Destinations Found</h3>
    <p class="text-muted">Try adjusting your search or filter criteria.</p>
  </div>

</div>